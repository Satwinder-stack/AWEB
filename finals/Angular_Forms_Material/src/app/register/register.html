<div class="page-wrapper" [ngClass]="{'dark-theme': isDarkMode}">
  <div class="form-container">
    <header>
      <div class="header-top">
        <h2>Registration form</h2>
        <mat-slide-toggle (change)="toggleTheme()">
          {{ isDarkMode ? 'Dark Mode' : 'Light Mode' }}
        </mat-slide-toggle>
      </div>
      <p>Secure your spot at the event of the year.</p>
    </header>

    <form [formGroup]="formdata" (ngSubmit)="onClickSubmit()">

      <div class="form-row">
        <mat-form-field appearance="outline" subscriptSizing="fixed">
          <mat-label>Username</mat-label>
          <input matInput placeholder="johndoe" formControlName="userName">
          <mat-icon matSuffix>person</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline" subscriptSizing="fixed">
          <mat-label>Phone Number</mat-label>
          <span matTextPrefix class="num">+63 &nbsp;</span>
          <input type="tel" matInput placeholder="555-0101" formControlName="phoneNumber">
          <mat-icon matSuffix>phone</mat-icon>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="password">
          <mat-hint>8+ Alphanumeric, starts with a letter</mat-hint>
          <mat-error *ngIf="formdata.get('password')?.hasError('pattern')">
            Must start with a letter and be alphanumeric.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Email Address</mat-label>
          <input matInput type="email" formControlName="email" placeholder="me@example.com">
          <mat-icon matSuffix>email</mat-icon>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Professional Role</mat-label>
          <mat-select formControlName="userRole" class="role">
            <mat-option value="developer" class="role">Developer</mat-option>
            <mat-option value="designer" class="role">Designer</mat-option>
            <mat-option value="manager" class="role">Manager</mat-option>
          </mat-select>
          <mat-icon matSuffix>work</mat-icon>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Event Access Type</mat-label>
          <mat-select formControlName="eventRole" class="role">
            <mat-option value="attendee" class="role">Attendee</mat-option>
            <mat-option value="speaker" class="role">Speaker</mat-option>
            <mat-option value="sponsor" class="role">Sponsor</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="form-row">
        <mat-form-field appearance="outline">
          <mat-label>Birth Date</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="birthDate">
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngIf="formdata.get('birthDate')?.hasError('tooYoung')">
            Must be born in 2006 or earlier.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Address</mat-label>
          <input matInput formControlName="address">
          <mat-icon matSuffix>location_on</mat-icon>
        </mat-form-field>
      </div>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Short Bio</mat-label>
        <textarea matInput rows="3" formControlName="bio" placeholder="Tell us about yourself..."></textarea>
      </mat-form-field>

      <div class="selection-container">
        <div class="selection-area">
          <label class="section-label">Gender</label>
          <mat-radio-group formControlName="gender" class="gender-radio-group">
            <mat-radio-button value="male">Male</mat-radio-button>
            <mat-radio-button value="female">Female</mat-radio-button>
            <mat-radio-button value="other">Other</mat-radio-button>
          </mat-radio-group>
        </div>

        <div class="selection-area">
          <label class="section-label">
            Angular Skill Level: <strong>{{ formdata.get('angularSkillLevel')?.value }}</strong>
          </label>
          <mat-slider [min]="0" [max]="10" step="1" discrete>
            <input matSliderThumb formControlName="angularSkillLevel">
          </mat-slider>
        </div>
      </div>

      <button mat-flat-button color="primary" class="submit-btn" type="submit">
        CONFIRM REGISTRATION
      </button>

    </form>

    <div *ngIf="submitted" class="success-box">
      <mat-icon>check_circle</mat-icon>
      Registration Successful!
    </div>
  </div>
</div>
